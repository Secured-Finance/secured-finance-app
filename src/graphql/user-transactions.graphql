# User Transaction History Queries
# Source: sf-graph-client/src/queries/lending-market.ts

query UserTransactionHistory($address: ID!, $skip: Int!, $count: Int!) {
  user(id: $address) {
    transactionCount
    transactions(
      orderBy: createdAt
      orderDirection: desc
      skip: $skip
      first: $count
    ) {
      id
      currency
      maturity
      side
      executionPrice
      futureValue
      amount
      averagePrice
      createdAt
      feeInFV
      user {
        id
      }
    }
  }
}

query FilteredUserTransactionHistory(
  $address: ID!
  $currency: Bytes!
  $maturity: BigInt!
) {
  user(id: $address) {
    transactions(
      orderBy: createdAt
      orderDirection: desc
      where: { currency: $currency, maturity: $maturity }
    ) {
      id
      currency
      maturity
      side
      executionPrice
      futureValue
      amount
      averagePrice
      createdAt
      feeInFV
      user {
        id
      }
    }
  }
}

query FullUserTransactionHistory($address: ID!) {
  user(id: $address) {
    transactions(orderBy: createdAt, orderDirection: desc) {
      id
      currency
      maturity
      side
      executionPrice
      futureValue
      amount
      averagePrice
      createdAt
      feeInFV
      user {
        id
      }
    }
  }
}