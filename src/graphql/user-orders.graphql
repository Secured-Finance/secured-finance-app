# User Order History Queries  
# Source: sf-graph-client/src/queries/lending-market.ts

query UserOrderHistory($address: ID!, $skip: Int!, $count: Int!) {
  user(id: $address) {
    orderCount
    orders(
      orderBy: createdAt
      orderDirection: desc
      skip: $skip
      first: $count
    ) {
      id
      orderId
      currency
      side
      maturity
      inputUnitPrice
      inputAmount
      filledAmount
      status
      lendingMarket {
        id
        isActive
      }
      type
      isCircuitBreakerTriggered
      createdAt
      txHash
      user {
        id
      }
    }
  }
}

query FilteredUserOrderHistory(
  $address: ID!
  $currency: Bytes!
  $maturity: BigInt!
) {
  user(id: $address) {
    orders(
      orderBy: createdAt
      orderDirection: desc
      where: { currency: $currency, maturity: $maturity }
    ) {
      id
      orderId
      currency
      side
      maturity
      inputUnitPrice
      inputAmount
      filledAmount
      status
      lendingMarket {
        id
        isActive
      }
      type
      isCircuitBreakerTriggered
      createdAt
      txHash
      user {
        id
      }
    }
  }
}

query FullUserOrderHistory($address: ID!) {
  user(id: $address) {
    orders(orderBy: createdAt, orderDirection: desc) {
      id
      orderId
      currency
      side
      maturity
      inputUnitPrice
      inputAmount
      filledAmount
      status
      lendingMarket {
        id
        isActive
      }
      type
      isCircuitBreakerTriggered
      createdAt
      txHash
      user {
        id
      }
    }
  }
}